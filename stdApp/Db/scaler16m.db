#! Generated by VisualDCT v2.5
#! DBDSTART
#! DBDEND


# This is a modification of scaler16.db that takes advantage of the COPT field of the
# transform record (allows a calc expression to be evaluated even though there is an
# associated input link) to condense end calcs from four transform records to two.
record(bo, "$(P)$(S)_calcEnable") {
  field(DTYP, "Soft Channel")
  field(ZNAM, "ENABLE")
  field(ONAM, "DISABLE")
}

record(bo, "$(P)$(S)_calc_ctrl") {
  field(DTYP, "Soft Channel")
  field(FLNK, "$(P)$(S)_cts1.PROC  PP MS")
  field(ZNAM, "Counts")
  field(ONAM, "Cts/sec")
}

record(transform, "$(P)$(S)_calc1") {
  field(CLCB, "B")
  field(CLCC, "C")
  field(CLCD, "D")
  field(CLCE, "E")
  field(CLCF, "F")
  field(CLCG, "G")
  field(CLCH, "H")
  field(CLCI, "I")
  field(CLCJ, "J")
  field(CLCK, "K")
  field(CLCL, "L")
  field(CLCM, "M")
  field(CLCN, "N")
  field(CLCO, "O")
  field(CLCP, "P")
  field(INPA, "$(P)$(S).T")
  field(INPB, "$(P)$(S).S2  NPP NMS")
  field(INPC, "$(P)$(S).S3  NPP NMS")
  field(INPD, "$(P)$(S).S4  NPP NMS")
  field(INPE, "$(P)$(S).S5  NPP NMS")
  field(INPF, "$(P)$(S).S6  NPP NMS")
  field(INPG, "$(P)$(S).S7  NPP NMS")
  field(INPH, "$(P)$(S).S8  NPP NMS")
  field(INPI, "$(P)$(S).S9  NPP NMS")
  field(INPJ, "$(P)$(S).S10  NPP NMS")
  field(INPK, "$(P)$(S).S11  NPP NMS")
  field(INPL, "$(P)$(S).S12  NPP NMS")
  field(INPM, "$(P)$(S).S13  NPP NMS")
  field(INPN, "$(P)$(S).S14  NPP NMS")
  field(INPO, "$(P)$(S).S15  NPP NMS")
  field(INPP, "$(P)$(S).S16  NPP NMS")
  field(PREC, "3")
}

record(scaler, "$(P)$(S)") {
  field(DTYP, "$(DTYP)")
  field(PRIO, "HIGH")
  field(FLNK, "$(P)$(S)_cts1.PROC  PP MS")
  field(FREQ, "$(FREQ)")
  field(OUT, "$(OUT)")
  field(PREC, "3")
}

record(transform, "$(P)$(S)_cts1") {
  field(SDIS, "$(P)$(S)_calcEnable.VAL  NPP NMS")
  field(FLNK, "$(P)$(S)_cts2.PROC  PP MS")
  field(COPT, "Always")
  field(CLCA, "MAX(a,0.000001)")
  field(CLCB, "j?b/a:b")
  field(CLCC, "j?c/a:c")
  field(CLCD, "j?d/a:d")
  field(CLCE, "j?e/a:e")
  field(CLCF, "j?f/a:f")
  field(CLCG, "j?g/a:g")
  field(CLCH, "j?h/a:h")
  field(CLCI, "j?i/a:i")
  field(INPA, "$(P)$(S).T  NPP NMS")
  field(INPB, "$(P)$(S).S1  NPP NMS")
  field(INPC, "$(P)$(S).S2  NPP NMS")
  field(INPD, "$(P)$(S).S3  NPP NMS")
  field(INPE, "$(P)$(S).S4  NPP NMS")
  field(INPF, "$(P)$(S).S5 NPP NMS")
  field(INPG, "$(P)$(S).S6  NPP NMS")
  field(INPH, "$(P)$(S).S7  NPP NMS")
  field(INPI, "$(P)$(S).S8  NPP NMS")
  field(INPJ, "$(P)$(S)_calc_ctrl.VAL  NPP NMS")
  field(PREC, "3")
}

record(transform, "$(P)$(S)_cts2") {
  field(FLNK, "$(P)$(S)_calc1.PROC  PP MS")
  field(COPT, "Always")
  field(CLCB, "j?b/a:b")
  field(CLCC, "j?c/a:c")
  field(CLCD, "j?d/a:d")
  field(CLCE, "j?e/a:e")
  field(CLCF, "j?f/a:f")
  field(CLCG, "j?g/a:g")
  field(CLCH, "j?h/a:h")
  field(CLCI, "j?i/a:i")
  field(INPA, "$(P)$(S)_cts1.A  NPP NMS")
  field(INPB, "$(P)$(S).S9  NPP NMS")
  field(INPC, "$(P)$(S).S10  NPP NMS")
  field(INPD, "$(P)$(S).S11  NPP NMS")
  field(INPE, "$(P)$(S).S12  NPP NMS")
  field(INPF, "$(P)$(S).S13 NPP NMS")
  field(INPG, "$(P)$(S).S14  NPP NMS")
  field(INPH, "$(P)$(S).S15  NPP NMS")
  field(INPI, "$(P)$(S).S16  NPP NMS")
  field(INPJ, "$(P)$(S)_calc_ctrl.VAL  NPP NMS")
  field(PREC, "3")
}

#! Further lines contain data used by VisualDCT
#! View(0,0,0.7)
#! Record("$(P)$(S)_calcEnable",220,140,0,0,"$(P)$(S)_calcEnable")
#! Field("$(P)$(S)_calcEnable.VAL",16777215,1,"$(P)$(S)_calcEnable.VAL")
#! Record("$(P)$(S)_calc_ctrl",220,6,0,0,"$(P)$(S)_calc_ctrl")
#! Field("$(P)$(S)_calc_ctrl.FLNK",16777215,1,"$(P)$(S)_calc_ctrl.FLNK")
#! Link("$(P)$(S)_calc_ctrl.FLNK","$(P)$(S)_calc_ctrl/FLNK")
#! Field("$(P)$(S)_calc_ctrl.VAL",16777215,1,"$(P)$(S)_calc_ctrl.VAL")
#! Connector("$(P)$(S)_calc_ctrl/FLNK","$(P)$(S)_cts1",460,88,16777215,"",0)
#! Record("$(P)$(S)_calc1",580,380,0,0,"$(P)$(S)_calc1")
#! Field("$(P)$(S)_calc1.INPA",16777215,0,"$(P)$(S)_calc1.INPA")
#! Link("$(P)$(S)_calc1.INPA","$(P)$(S).T")
#! Field("$(P)$(S)_calc1.INPB",16777215,0,"$(P)$(S)_calc1.INPB")
#! Link("$(P)$(S)_calc1.INPB","$(P)$(S).S2")
#! Field("$(P)$(S)_calc1.INPC",16777215,0,"$(P)$(S)_calc1.INPC")
#! Link("$(P)$(S)_calc1.INPC","$(P)$(S).S3")
#! Field("$(P)$(S)_calc1.INPD",16777215,0,"$(P)$(S)_calc1.INPD")
#! Link("$(P)$(S)_calc1.INPD","$(P)$(S).S4")
#! Field("$(P)$(S)_calc1.INPE",16777215,0,"$(P)$(S)_calc1.INPE")
#! Link("$(P)$(S)_calc1.INPE","$(P)$(S).S5")
#! Field("$(P)$(S)_calc1.INPF",16777215,0,"$(P)$(S)_calc1.INPF")
#! Link("$(P)$(S)_calc1.INPF","$(P)$(S).S6")
#! Field("$(P)$(S)_calc1.INPG",16777215,0,"$(P)$(S)_calc1.INPG")
#! Link("$(P)$(S)_calc1.INPG","$(P)$(S).S7")
#! Field("$(P)$(S)_calc1.INPH",16777215,0,"$(P)$(S)_calc1.INPH")
#! Link("$(P)$(S)_calc1.INPH","$(P)$(S).S8")
#! Field("$(P)$(S)_calc1.INPI",16777215,0,"$(P)$(S)_calc1.INPI")
#! Link("$(P)$(S)_calc1.INPI","$(P)$(S).S9")
#! Field("$(P)$(S)_calc1.INPJ",16777215,0,"$(P)$(S)_calc1.INPJ")
#! Link("$(P)$(S)_calc1.INPJ","$(P)$(S).S10")
#! Field("$(P)$(S)_calc1.INPK",16777215,0,"$(P)$(S)_calc1.INPK")
#! Link("$(P)$(S)_calc1.INPK","$(P)$(S).S11")
#! Field("$(P)$(S)_calc1.INPL",16777215,0,"$(P)$(S)_calc1.INPL")
#! Link("$(P)$(S)_calc1.INPL","$(P)$(S).S12")
#! Field("$(P)$(S)_calc1.INPM",16777215,0,"$(P)$(S)_calc1.INPM")
#! Link("$(P)$(S)_calc1.INPM","$(P)$(S).S13")
#! Field("$(P)$(S)_calc1.INPN",16777215,0,"$(P)$(S)_calc1.INPN")
#! Link("$(P)$(S)_calc1.INPN","$(P)$(S).S14")
#! Field("$(P)$(S)_calc1.INPO",16777215,0,"$(P)$(S)_calc1.INPO")
#! Link("$(P)$(S)_calc1.INPO","$(P)$(S).S15")
#! Field("$(P)$(S)_calc1.INPP",16777215,0,"$(P)$(S)_calc1.INPP")
#! Link("$(P)$(S)_calc1.INPP","$(P)$(S).S16")
#! Record("$(P)$(S)",100,798,0,0,"$(P)$(S)")
#! Field("$(P)$(S).T",16777215,1,"$(P)$(S).T")
#! Field("$(P)$(S).S1",16777215,1,"$(P)$(S).S1")
#! Field("$(P)$(S).S2",16777215,1,"$(P)$(S).S2")
#! Field("$(P)$(S).S3",16777215,1,"$(P)$(S).S3")
#! Field("$(P)$(S).S4",16777215,1,"$(P)$(S).S4")
#! Field("$(P)$(S).S5",16777215,1,"$(P)$(S).S5")
#! Field("$(P)$(S).S6",16777215,1,"$(P)$(S).S6")
#! Field("$(P)$(S).S7",16777215,1,"$(P)$(S).S7")
#! Field("$(P)$(S).S8",16777215,1,"$(P)$(S).S8")
#! Field("$(P)$(S).S9",16777215,1,"$(P)$(S).S9")
#! Field("$(P)$(S).S10",16777215,1,"$(P)$(S).S10")
#! Field("$(P)$(S).S11",16777215,1,"$(P)$(S).S11")
#! Field("$(P)$(S).S12",16777215,1,"$(P)$(S).S12")
#! Field("$(P)$(S).S13",16777215,1,"$(P)$(S).S13")
#! Field("$(P)$(S).S14",16777215,1,"$(P)$(S).S14")
#! Field("$(P)$(S).S15",16777215,1,"$(P)$(S).S15")
#! Field("$(P)$(S).S16",16777215,1,"$(P)$(S).S16")
#! Field("$(P)$(S).OUT",16777215,1,"$(P)$(S).OUT")
#! Field("$(P)$(S).FLNK",16777215,1,"$(P)$(S).FLNK")
#! Link("$(P)$(S).FLNK","$(P)$(S)/FLNK")
#! Connector("$(P)$(S)/FLNK","$(P)$(S)_cts1",460,678,16777215,"",0)
#! Record("$(P)$(S)_cts1",580,-148,0,0,"$(P)$(S)_cts1")
#! Field("$(P)$(S)_cts1.SDIS",16777215,0,"$(P)$(S)_cts1.SDIS")
#! Link("$(P)$(S)_cts1.SDIS","$(P)$(S)_calcEnable.VAL")
#! Field("$(P)$(S)_cts1.INPA",16777215,0,"$(P)$(S)_cts1.INPA")
#! Link("$(P)$(S)_cts1.INPA","$(P)$(S).T")
#! Field("$(P)$(S)_cts1.INPB",16777215,0,"$(P)$(S)_cts1.INPB")
#! Link("$(P)$(S)_cts1.INPB","$(P)$(S).S1")
#! Field("$(P)$(S)_cts1.INPC",16777215,0,"$(P)$(S)_cts1.INPC")
#! Link("$(P)$(S)_cts1.INPC","$(P)$(S).S2")
#! Field("$(P)$(S)_cts1.INPD",16777215,0,"$(P)$(S)_cts1.INPD")
#! Link("$(P)$(S)_cts1.INPD","$(P)$(S).S3")
#! Field("$(P)$(S)_cts1.INPE",16777215,0,"$(P)$(S)_cts1.INPE")
#! Link("$(P)$(S)_cts1.INPE","$(P)$(S).S4")
#! Field("$(P)$(S)_cts1.INPF",16777215,0,"$(P)$(S)_cts1.INPF")
#! Link("$(P)$(S)_cts1.INPF","$(P)$(S).S5")
#! Field("$(P)$(S)_cts1.INPG",16777215,0,"$(P)$(S)_cts1.INPG")
#! Link("$(P)$(S)_cts1.INPG","$(P)$(S).S6")
#! Field("$(P)$(S)_cts1.INPH",16777215,0,"$(P)$(S)_cts1.INPH")
#! Link("$(P)$(S)_cts1.INPH","$(P)$(S).S7")
#! Field("$(P)$(S)_cts1.INPI",16777215,0,"$(P)$(S)_cts1.INPI")
#! Link("$(P)$(S)_cts1.INPI","$(P)$(S).S8")
#! Field("$(P)$(S)_cts1.INPJ",16777215,0,"$(P)$(S)_cts1.INPJ")
#! Link("$(P)$(S)_cts1.INPJ","$(P)$(S)_cts1/INPJ")
#! Field("$(P)$(S)_cts1.FLNK",16777215,1,"$(P)$(S)_cts1.FLNK")
#! Link("$(P)$(S)_cts1.FLNK","$(P)$(S)_cts1/FLNK")
#! Field("$(P)$(S)_cts1.A",16777215,1,"$(P)$(S)_cts1.A")
#! Connector("$(P)$(S)_cts1/INPJ","$(P)$(S)_calc_ctrl.VAL",480,300,16777215,"",0)
#! Connector("$(P)$(S)_cts1/FLNK","$(P)$(S)_cts1/FLNK1",920,505,16777215,"",0)
#! Connector("$(P)$(S)_cts1/FLNK1","$(P)$(S)_cts1/FLNK2",730,540,16777215,"",0)
#! Connector("$(P)$(S)_cts1/FLNK2","$(P)$(S)_cts2",540,479,16777215,"",0)
#! Record("$(P)$(S)_cts2",580,240,0,0,"$(P)$(S)_cts2")
#! Field("$(P)$(S)_cts2.INPA",16777215,0,"$(P)$(S)_cts2.INPA")
#! Link("$(P)$(S)_cts2.INPA","$(P)$(S)_cts2/INPA2")
#! Field("$(P)$(S)_cts2.INPB",16777215,0,"$(P)$(S)_cts2.INPB")
#! Link("$(P)$(S)_cts2.INPB","$(P)$(S).S9")
#! Field("$(P)$(S)_cts2.INPC",16777215,0,"$(P)$(S)_cts2.INPC")
#! Link("$(P)$(S)_cts2.INPC","$(P)$(S).S10")
#! Field("$(P)$(S)_cts2.INPD",16777215,0,"$(P)$(S)_cts2.INPD")
#! Link("$(P)$(S)_cts2.INPD","$(P)$(S).S11")
#! Field("$(P)$(S)_cts2.INPE",16777215,0,"$(P)$(S)_cts2.INPE")
#! Link("$(P)$(S)_cts2.INPE","$(P)$(S).S12")
#! Field("$(P)$(S)_cts2.INPF",16777215,0,"$(P)$(S)_cts2.INPF")
#! Link("$(P)$(S)_cts2.INPF","$(P)$(S).S13")
#! Field("$(P)$(S)_cts2.INPG",16777215,0,"$(P)$(S)_cts2.INPG")
#! Link("$(P)$(S)_cts2.INPG","$(P)$(S).S14")
#! Field("$(P)$(S)_cts2.INPH",16777215,0,"$(P)$(S)_cts2.INPH")
#! Link("$(P)$(S)_cts2.INPH","$(P)$(S).S15")
#! Field("$(P)$(S)_cts2.INPI",16777215,0,"$(P)$(S)_cts2.INPI")
#! Link("$(P)$(S)_cts2.INPI","$(P)$(S).S16")
#! Field("$(P)$(S)_cts2.INPJ",16777215,0,"$(P)$(S)_cts2.INPJ")
#! Link("$(P)$(S)_cts2.INPJ","$(P)$(S)_calc_ctrl.VAL")
#! Field("$(P)$(S)_cts2.FLNK",16777215,1,"$(P)$(S)_cts2.FLNK")
#! Link("$(P)$(S)_cts2.FLNK","$(P)$(S)_cts2/FLNK")
#! Connector("$(P)$(S)_cts2/FLNK","$(P)$(S)_cts2/FLNK1",840,835,16777215,"",0)
#! Connector("$(P)$(S)_cts2/FLNK1","$(P)$(S)_cts2/FLNK2",690,860,16777215,"",0)
#! Connector("$(P)$(S)_cts2/FLNK2","$(P)$(S)_calc1",540,750,16777215,"",0)
#! Connector("$(P)$(S)_cts2/INPA2","$(P)$(S)_cts2/INPA1",520,565,16777215,"",0)
#! Connector("$(P)$(S)_cts2/INPA1","$(P)$(S)_cts2/INPA",690,520,16777215,"",0)
#! Connector("$(P)$(S)_cts2/INPA","$(P)$(S)_cts1.A",860,505,16777215,"",0)
